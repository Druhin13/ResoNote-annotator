<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>ResoNote Annotator</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app">
    <header class="topbar">
      <div class="brand-section">
        <div class="brand-text">
          <div class="brand-title">ResoNote Annotator</div>
          <div class="brand-subtitle">Music Intelligence Platform</div>
        </div>
      </div>
      <div class="stats-section">
        <div class="stat-card">
          <div class="stat-value" id="progress-count">0</div>
          <div class="stat-label">Annotated</div>
        </div>
        <div class="stat-divider"></div>
        <div class="stat-card">
          <div class="stat-value" id="queue-count">0</div>
          <div class="stat-label">Remaining</div>
        </div>
        <div class="stat-divider"></div>
        <div class="zoom-controls">
          <button id="btn-zoom-out" class="btn-secondary zoom-btn" title="Decrease Text Size (Ctrl + -)">
            <i class="ph ph-magnifying-glass-minus"></i>
          </button>
          <span class="zoom-indicator" id="zoom-level">100%</span>
          <button id="btn-zoom-in" class="btn-secondary zoom-btn" title="Increase Text Size (Ctrl + +)">
            <i class="ph ph-magnifying-glass-plus"></i>
          </button>
          <button id="btn-zoom-reset" class="btn-secondary zoom-btn" title="Reset Text Size (Ctrl + 0)">
            <i class="ph ph-arrow-clockwise"></i>
          </button>
        </div>
        <div class="stat-divider"></div>
        <div class="control-buttons">
          <button id="btn-skip" class="btn-secondary" title="Skip This Track">
            <i class="ph ph-skip-forward"></i>
            <span>Skip</span>
          </button>
          <button id="btn-download" class="btn-primary" title="Download All Annotations" style="display: none;">
            <i class="ph ph-download-simple"></i>
            <span>Download Data</span>
          </button>
        </div>
      </div>
    </header>

    <main class="workspace">
      <section class="lyrics-pane">
        <div class="lyrics-header">
          <div class="track-info">
            <div id="track-title" class="track-title">Loading tracks...</div>
            <div id="track-subtitle" class="track-subtitle">Please wait</div>
          </div>
          <div class="track-actions">
            <button id="btn-copy-lyrics" class="icon-btn" title="Copy Lyrics to Clipboard">
              <i class="ph ph-copy"></i>
            </button>
          </div>
        </div>
        <div class="lyrics-container">
          <div id="lyrics" class="lyrics-body">Loading your assigned tracks...</div>
        </div>
      </section>

      <section class="tags-pane">
        <div class="tags-header">
          <h2>Annotation Categories</h2>
          <div class="progress-indicator">
            <div class="progress-ring">
              <svg class="progress-ring-svg" width="40" height="40">
                <circle class="progress-ring-circle-bg" cx="20" cy="20" r="18"></circle>
                <circle class="progress-ring-circle" cx="20" cy="20" r="18" id="progress-circle"></circle>
              </svg>
              <span class="progress-text" id="progress-percentage">0%</span>
            </div>
          </div>
        </div>
        
        <div class="facets-grid">
          <div class="facet-card" data-facet="Emotional_Tone">
            <div class="facet-header">
              <div class="facet-icon">
                <i class="ph ph-smiley"></i>
              </div>
              <div class="facet-info">
                <h3>Emotional Tone</h3>
                <p>Feelings and moods expressed</p>
              </div>
            </div>
            <div class="search-container">
              <input class="facet-search" placeholder="Search emotions..." type="text">
              <div class="search-icon">
                <i class="ph ph-magnifying-glass"></i>
              </div>
            </div>
            <div class="facet-body" data-facet="Emotional_Tone"></div>
          </div>

          <div class="facet-card" data-facet="Thematic_Content">
            <div class="facet-header">
              <div class="facet-icon">
                <i class="ph ph-book-open"></i>
              </div>
              <div class="facet-info">
                <h3>Thematic Content</h3>
                <p>Topics and subject matter</p>
              </div>
            </div>
            <div class="search-container">
              <input class="facet-search" placeholder="Search themes..." type="text">
              <div class="search-icon">
                <i class="ph ph-magnifying-glass"></i>
              </div>
            </div>
            <div class="facet-body" data-facet="Thematic_Content"></div>
          </div>

          <div class="facet-card" data-facet="Narrative_Structure">
            <div class="facet-header">
              <div class="facet-icon">
                <i class="ph ph-list-bullets"></i>
              </div>
              <div class="facet-info">
                <h3>Narrative Structure</h3>
                <p>Storytelling patterns</p>
              </div>
            </div>
            <div class="search-container">
              <input class="facet-search" placeholder="Search structures..." type="text">
              <div class="search-icon">
                <i class="ph ph-magnifying-glass"></i>
              </div>
            </div>
            <div class="facet-body" data-facet="Narrative_Structure"></div>
          </div>

          <div class="facet-card" data-facet="Lyrical_Style">
            <div class="facet-header">
              <div class="facet-icon">
                <i class="ph ph-pen-nib"></i>
              </div>
              <div class="facet-info">
                <h3>Lyrical Style</h3>
                <p>Writing techniques and approaches</p>
              </div>
            </div>
            <div class="search-container">
              <input class="facet-search" placeholder="Search styles..." type="text">
              <div class="search-icon">
                <i class="ph ph-magnifying-glass"></i>
              </div>
            </div>
            <div class="facet-body" data-facet="Lyrical_Style"></div>
          </div>
        </div>

        <div class="action-panel">
          <div class="selection-summary">
            <div class="summary-item">
              <span class="summary-count" id="total-selections">0</span>
              <span class="summary-label">Tags Selected</span>
            </div>
          </div>
          <div class="action-buttons">
            <button id="btn-clear" class="btn-outline">
              <i class="ph ph-trash"></i>
              Clear All
            </button>
            <button id="btn-confirm" class="btn-success">
              <i class="ph ph-floppy-disk"></i>
              Save Annotations
            </button>
          </div>
        </div>
      </section>
    </main>

    <div id="completion-modal" class="completion-modal" style="display: none;">
      <div class="completion-content">
        <div class="completion-header">
          <div class="completion-icon">
            <i class="ph ph-check-circle"></i>
          </div>
          <h2>Congratulations!</h2>
          <p>You have successfully completed all 50 track annotations.</p>
        </div>
        <div class="completion-actions">
          <button id="btn-download-modal" class="btn-success">
            <i class="ph ph-download-simple"></i>
            Download Your Annotations
          </button>
        </div>
      </div>
    </div>

    <div id="loading" class="loading-overlay">
      <div class="loading-spinner"></div>
      <div class="loading-text">Loading music data...</div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
  <script src="app.js"></script>
</body>
</html>